$().ready(function(){function e(e,o,t){c.push(e),h.push(o),l.push(t),g.push(p)}function o(){n.fillStyle="#ffffff",n.fillRect(0,0,a,i),f.width=f.width}function t(){o();var e=5;n.lineJoin="round",n.lineWidth=e;for(var t=0;t<c.length;t++)n.beginPath(),l[t]&&t?n.moveTo(c[t-1],h[t-1]):n.moveTo(c[t]-1,h[t]),n.lineTo(c[t],h[t]),n.closePath(),n.strokeStyle=g[t],n.stroke()}var n,s=document.getElementById("canvasDiv"),f=document.createElement("canvas"),a=800,i=300,u=!1,c=[],h=[],l=[],d="#334455",r="#659b41",v="#ffcf33",m="#986928",p=d,g=[];f.setAttribute("width",a),f.setAttribute("height",i),f.setAttribute("id","canvas"),s.appendChild(f),"undefined"!=typeof G_vmlCanvasManager&&(f=G_vmlCanvasManager.initElement(f)),n=f.getContext("2d"),$("#canvas").mousedown(function(o){o.pageX-this.offsetLeft,o.pageY-this.offsetTop;u=!0,e(o.pageX-this.offsetLeft,o.pageY-this.offsetTop),t()}),$("#canvas").mousemove(function(o){u&&(e(o.pageX-this.offsetLeft,o.pageY-this.offsetTop,!0),t())}),$("#canvas").mouseup(function(e){u=!1,t()}),$("#canvas").mouseleave(function(e){u=!1}),$("#choosePurple").mousedown(function(e){p=colorPurple}),$("#chooseGreen").mousedown(function(e){p=r}),$("#chooseYellow").mousedown(function(e){p=v}),$("#chooseBrown").mousedown(function(e){p=m}),$("#clearCanvas").mousedown(function(e){c=[],h=[],l=[],g=[],o()})});